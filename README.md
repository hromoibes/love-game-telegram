# üíû Love Game Telegram Bot

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –ø–∞—Ä —Å –ª—ë–≥–∫–∏–º–∏ –ø–æ—à–ª—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏ –ò–ò-–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π. –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ FastAPI –≤–µ–±—Ö—É–∫ –∏ –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Render.com.

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python 3.10+
- aiogram 3 (webhook)
- FastAPI + uvicorn
- HTTP-–∫–ª–∏–µ–Ω—Ç httpx
- OpenAI API (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)

## üîë –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `TELEGRAM_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞
- `AI_API_KEY` ‚Äî –∫–ª—é—á –∫ –º–æ–¥–µ–ª–∏ (OpenAI)
- `BASE_URL` ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π URL —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ Render.com –∏–ª–∏ –∏–∑ ngrok –¥–ª—è –≤–µ–±—Ö—É–∫–∞
- `PORT` ‚Äî –ø–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É—à–∞–µ—Ç uvicorn (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `10000`, Render –ø–µ—Ä–µ–¥–∞—ë—Ç —Å–≤–æ–π)

## üöÄ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```
2. –ó–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø—Ä–∏–º–µ—Ä –¥–ª—è Linux/macOS):
   ```bash
   export TELEGRAM_TOKEN=your_token
   export AI_API_KEY=your_openai_key
   export BASE_URL=https://<ngrok-id>.ngrok.io
   export PORT=8000
   ```
3. –ü–æ–¥–Ω–∏–º–∏—Ç–µ ngrok –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ–±—Ö—É–∫–∞:
   ```bash
   ngrok http 8000
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   ```bash
   uvicorn main:app --host 0.0.0.0 --port 8000
   ```
   –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –≤—ã—Å—Ç–∞–≤–∏—Ç—Å—è webhook –Ω–∞ `${BASE_URL}/webhook`.

## üß≠ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
- `/start` ‚Äî —Å–±—Ä–æ—Å –∏ –≤–≤–æ–¥ –∏–º—ë–Ω –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤, –≤—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è –∏ –¥–ª–∏–Ω—ã –∏–≥—Ä—ã
- `/help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é
- `/stop` ‚Äî –¥–æ—Å—Ä–æ—á–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å –∏—Ç–æ–≥–æ–≤—ã–º —Ä–µ–∑—é–º–µ

–í –∏–≥—Ä–µ –¥–æ—Å—Ç—É–ø–Ω—ã –±—ã—Å—Ç—Ä—ã–µ —Ä–µ–∞–∫—Ü–∏–∏: ¬´üî• –û–±–æ–∂–∞—é¬ª, ¬´üò≥ –°–º—É—â–∞–µ—Ç, –Ω–æ –æ–∫¬ª, ¬´‚ùå –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤–æ–ø—Ä–æ—Å¬ª, ¬´‚û°Ô∏è –î–∞–≤–∞–π –º—è–≥—á–µ¬ª, ¬´‚ö° –î–∞–≤–∞–π —Å–º–µ–ª–µ–µ¬ª, ¬´üèÅ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É¬ª.

## ‚òÅÔ∏è –î–µ–ø–ª–æ–π –Ω–∞ Render.com
–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å `render.yaml` –∏ `Procfile`.
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Web Service –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
2. –£–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `TELEGRAM_TOKEN`, `AI_API_KEY`, `BASE_URL` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Render.
3. Render –∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–º–∞–Ω–¥—É `uvicorn main:app --host 0.0.0.0 --port $PORT` (–ø–æ—Ä—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç Render). Health-check: `/health`.

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ–±–Ω–æ–≤–∏—Ç–µ `BASE_URL` –Ω–∞ –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–∏—Å–∞ Render –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –≤–µ–±—Ö—É–∫ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è.

## üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `main.py` ‚Äî FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ webhook, health-check
- `bot.py` ‚Äî –º–∞—Ä—à—Ä—É—Ç—ã aiogram, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–π
- `game_engine.py` ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- `ai_client.py` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —Ä–µ–∑—é–º–µ —á–µ—Ä–µ–∑ OpenAI
- `models.py` ‚Äî Pydantic-–º–æ–¥–µ–ª–∏ –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
- `config.py` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `render.yaml`, `Procfile` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–µ–ø–ª–æ—è –Ω–∞ Render

–ò–≥—Ä–∞–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –∏ —Å —É–ª—ã–±–∫–æ–π ‚ù§Ô∏è
